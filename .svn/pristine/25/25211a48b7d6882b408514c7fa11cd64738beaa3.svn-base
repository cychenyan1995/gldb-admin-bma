(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"7D0q":function(e,t,a){"use strict";var l=a("284h"),i=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.EditableFormRow=t.EditableRow=t.EditableContext=t.default=void 0,a("5NDa");var s=i(a("5rEg"));a("giR+");var n=i(a("fyUT"));a("y8nQ");var r=i(a("Vl3Y")),d=i(a("QILm")),o=l(a("q1tI")),u=o.default.createContext();t.EditableContext=u;var c=e=>{var t=e.form,a=(e.index,(0,d.default)(e,["form","index"]));return o.default.createElement(u.Provider,{value:t},o.default.createElement("tr",a))};t.EditableRow=c;var p=r.default.create()(c);t.EditableFormRow=p;var h=r.default.Item;class f extends o.Component{constructor(){super(...arguments),this.getInput=(()=>{return"number"===this.props.inputType?o.default.createElement(n.default,null):o.default.createElement(s.default,null)})}render(){var e=this.props,t=e.editing,a=e.dataIndex,l=(e.title,e.inputType,e.record),i=(e.index,(0,d.default)(e,["editing","dataIndex","title","inputType","record","index"]));return o.default.createElement(u.Consumer,null,e=>{var s=e.getFieldDecorator;return o.default.createElement("td",i,t?o.default.createElement(h,{style:{margin:0}},s(a,{rules:[{required:!0}],initialValue:l[a]})(this.getInput())):i.children)})}}var m=f;t.default=m},EJb5:function(e,t,a){"use strict";var l=a("TqRt"),i=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var s=l(a("bx4M"));a("14J3");var n=l(a("BMrR"));a("jCWc");var r=l(a("kPKH"));a("2qtc");var d=l(a("kLXV"));a("+L6B");var o=l(a("2/Rp")),u=l(a("MVZn"));a("P2fV");var c=l(a("NJEC"));a("y8nQ");var p,h,f=l(a("Vl3Y")),m=l(a("zHco")),v=i(a("q1tI")),g=l(a("Leqq")),E=a("MuoO"),k=l(a("b80h")),y=i(a("7D0q")),b=(f.default.Item,p=(0,E.connect)(e=>{var t=e.salesTask;return{salesTask:t}}),p(h=class extends v.Component{constructor(e){super(e),this.importTask=(()=>{var e=this.state.columns;14===e.length&&(e.push(this.state.operationCol),this.setState({columns:e,sendMessageBtn:!1})),this.setState({importVisible:!0})}),this.sendMessage=(()=>{var e=this.state.columns;e.pop(),this.setState({columns:e,sendMessageBtn:!0})}),this.onChange=((e,t)=>{console.log(e),console.log(t);var a=this.props,l=a.dispatch;a.salesTask;l({type:"salesTask/fetchTaskList",payload:{currentPage:e,pageSize:t}})}),this.onShowSizeChange=((e,t)=>{console.log(e),console.log(t);var a=this.props,l=a.dispatch;a.salesTask;l({type:"salesTask/fetchTaskList",payload:{currentPage:e,pageSize:t}})}),this.isEditing=(e=>e.id===this.state.editingKey),this.cancel=(()=>{this.setState({editingKey:""})}),this.toSpDetail=(e=>{alert(`\u9875\u9762\u8df3\u8f6c:${e}`)}),this.hideModal=(()=>{this.setState({importVisible:!1})}),this.submitModal=(()=>{this.formRef.props.form.validateFieldsAndScroll((e,t)=>{if(!e){console.log("Received values of form: ",t);var a=this.props.dispatch;a({type:"salesTask/fetchImport",payload:t}),this.setState({importVisible:!1})}})});var t=[{title:"\u5546\u6237ID",width:150,dataIndex:"spCode"},{title:"\u5546\u6237\u540d\u79f0",width:300,dataIndex:"spName",render:(e,t)=>v.default.createElement("span",null,v.default.createElement("a",{href:"javascript:;",onClick:()=>this.toSpDetail(t.id)},e))},{title:"\u533a\u57df",width:100,dataIndex:"area"},{title:"\u5927\u533a\u7ecf\u7406",width:100,dataIndex:"regionalManagerLeader"},{title:"\u533a\u57df\u7ecf\u7406",width:150,dataIndex:"regionalManager"},{title:"\u4e1a\u52a1\u7c7b\u578b",width:150,dataIndex:"bizType"},{title:"\u4efb\u52a1\u671f\u6570",width:150,dataIndex:"month"},{title:"\u5e7f\u8054DVD\u4efb\u52a1\u6570",width:150,dataIndex:"tasknumDvd",editable:!0},{title:"\u5e7f\u8054GPS\u4efb\u52a1\u6570",width:150,dataIndex:"tasknumGps",editable:!0},{title:"\u5600\u5600\u864e\u667a\u80fd\u4e91\u955c\u4efb\u52a1\u6570",width:150,dataIndex:"tasknumYunjing",editable:!0},{title:"\u5600\u5600\u864e\u8f66\u8054\u7f51\u670d\u52a1\u6fc0\u6d3b\u5361-1\u5e74\u7248\u4efb\u52a1\u6570",width:150,dataIndex:"tasknumDidihuService",editable:!0},{title:"\u65e0\u7ebf\u8f66\u5145\u4efb\u52a1\u6570",width:150,dataIndex:"tasknumWirelessCharge",editable:!0},{title:"\u7eaf\u6d41\u5a92\u4f53\u540e\u89c6\u955c\u4efb\u52a1\u6570",width:150,dataIndex:"tasknumRearview",editable:!0},{title:"\u5168\u529f\u80fd_\u6d41\u5a92\u4f53\u540e\u89c6\u955c\u4efb\u52a1\u6570",width:150,dataIndex:"tasknumFunctionRearview",editable:!0}],a={title:"\u64cd\u4f5c",width:150,dataIndex:"operation",render:(e,t)=>{var a=this.isEditing(t);return v.default.createElement("div",null,a?v.default.createElement("span",null,v.default.createElement(y.EditableContext.Consumer,null,e=>v.default.createElement("a",{href:"javascript:;",onClick:()=>this.save(e,t.id),style:{marginRight:8}},"\u4fdd\u5b58")),v.default.createElement(c.default,{title:"\u786e\u5b9a\u53d6\u6d88?",onConfirm:()=>this.cancel(t.id)},v.default.createElement("a",null,"\u53d6\u6d88"))):v.default.createElement("a",{onClick:()=>this.edit(t.id)},"\u7f16\u8f91"))}};t.push(a),this.state={columns:t,operationCol:a,editingKey:"",sendMessageBtn:!1,importVisible:!1};var l=e.dispatch,i=e.salesTask,s=i.filters;s.currentPage=1,s.pageSize=10,l({type:"salesTask/fetchTaskList",payload:s})}edit(e){this.setState({editingKey:e})}save(e,t){e.validateFields((e,a)=>{if(!e){var l=this.props,i=l.dispatch,s=l.salesTask,n=[...s.list],r=n.findIndex(e=>t===e.id);if(r>-1){var d=n[r],o=(0,u.default)({},d,a);i({type:"salesTask/fetchUpdateTask",payload:o}),i({type:"salesTask/fetchTaskList",payload:{}}),this.setState({editingKey:""})}else n.push(a),this.setState({data:n,editingKey:""})}})}render(){var e=this.props.salesTask,t=this.state.columns,a={body:{row:y.EditableFormRow,cell:y.default}};return t=t.map(e=>{return e.editable?(0,u.default)({},e,{onCell:t=>({record:t,inputType:"number",dataIndex:e.dataIndex,title:e.title,editing:this.isEditing(t),test:t.id})}):e}),v.default.createElement(m.default,null,v.default.createElement(s.default,{bordered:!1},v.default.createElement(n.default,null,v.default.createElement(r.default,null,v.default.createElement(o.default,{type:"primary",style:{marginRight:"20px"},onClick:this.importTask},"\u5bfc\u5165\u4efb\u52a1\u914d\u7f6e"),v.default.createElement(d.default,{title:"\u5bfc\u5165\u6587\u4ef6",visible:this.state.importVisible,onOk:this.submitModal,onCancel:this.hideModal,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},v.default.createElement(k.default,{importBtn:this.state.importBtn,wrappedComponentRef:e=>this.formRef=e})),v.default.createElement(o.default,{type:"primary",onClick:this.sendMessage,disabled:this.state.sendMessageBtn},"\u53d1\u5e03\u4efb\u52a1")))),v.default.createElement(g.default,{components:a,columns:t,scroll:{x:2400,y:600},dataSource:e.list,total:e.total,onChange:this.onChange,onShowSizeChange:this.onShowSizeChange}))}})||h),x=b;t.default=x},b80h:function(e,t,a){"use strict";var l=a("TqRt"),i=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var s=l(a("BMrR"));a("jCWc");var n=l(a("kPKH")),r=l(a("pVnL"));a("DZo9");var d=l(a("8z0m"));a("+L6B");var o=l(a("2/Rp"));a("Pwec");var u=l(a("CtXQ"));a("miYZ");var c=l(a("tsqr"));a("y8nQ");var p,h,f=l(a("Vl3Y")),m=i(a("q1tI")),v=a("MuoO"),g=(p=(0,v.connect)(e=>{var t=e.salesTask;return{salesTask:t}}),p(h=class extends m.Component{constructor(e){super(e),this.normFile=(e=>{return console.log("Upload event:",e),Array.isArray(e)?e:e&&e.fileList}),this.importFile=(e=>{var t=this.props.dispatch;t({type:"salesTask/fetchImportTask",payload:e})}),this.state={}}render(){var e=f.default.Item,t={labelCol:{span:5},wrapperCol:{span:14}},a=this.props.form,l=a.getFieldDecorator,i={name:"file",action:"http://localhost:8088/gldb-admin-bma/salesTask/importSalesTask",headers:{authorization:"authorization-text"},onChange(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?c.default.success(`${e.file.name} \u6587\u4ef6\u4e0a\u4f20\u6210\u529f`):"error"===e.file.status&&c.default.error(`${e.file.name} \u6587\u4ef6\u4e0a\u4f20\u5931\u8d25.`)}};return m.default.createElement(f.default,{className:"ant-advanced-search-form"},m.default.createElement(s.default,null,m.default.createElement(n.default,{span:24},m.default.createElement(e,(0,r.default)({label:"\u5bfc\u5165"},t),l("upload",{valuePropName:"fileList",getValueFromEvent:this.normFile},{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4e0a\u4f20\u6587\u4ef6!"}]})(m.default.createElement(d.default,i,m.default.createElement(o.default,{style:{marginLeft:"20px"}},m.default.createElement(u.default,{type:"upload"})," \u9009\u62e9\u6587\u4ef6")))))))}})||h),E=f.default.create()(g);t.default=E}}]);